imports:
    - { resource: ../../src/Resources/services.yml }

parameters:
    apiUrl: ''
    apiToken: ''
    apiContentType: ''

services:
    _defaults:
        public: true
        autoconfigure: true
        autowire: true

    SupportPal\ApiClient\Factory\CommentFactory:
        public: true
        tags: [ 'factory.model_factory' ]
        arguments:
            $formatType: 'json'
            $serializer: '@Symfony\Component\Serializer\Serializer'

    SupportPal\ApiClient\Factory\CoreSettingsFactory:
        public: true
        tags: [ 'factory.model_factory' ]
        arguments:
            $formatType: 'json'
            $serializer: '@Symfony\Component\Serializer\Serializer'

    SupportPal\ApiClient\Factory\RequestFactory:
        public: true
        arguments:
            $apiUrl: '%apiUrl%'
            $apiToken: '%apiToken%'
            $contentType: '%apiToken%'

    SupportPal\ApiClient\ApiClient:
        public: true
        arguments:
            $httpClient: '@GuzzleHttp\Client'
